---
layout: null
permalink: /search-index.json
---
[
{%- assign all_pages = site.pages | where_exp: "page", "page.url != '/search-index.json'" -%}
{%- assign filtered_pages = "" | split: "" -%}
{%- for page in all_pages -%}
  {%- unless page.url contains '/assets/' or page.url contains '.xml' or page.url contains '.json' -%}
    {%- assign filtered_pages = filtered_pages | push: page -%}
  {%- endunless -%}
{%- endfor -%}
{%- for doc in filtered_pages -%}
  {%- assign content_text = doc.content | strip_html | strip_newlines | replace: '"', '\"' | replace: '\', '\\' | replace: '	', ' ' | truncate: 3000 -%}
  {%- assign title = doc.title | default: doc.name | default: doc.url | replace: '"', '\"' -%}
  {%- assign description = doc.description | default: '' | replace: '"', '\"' -%}
  {
    "url": "{{ doc.url | relative_url }}",
    "title": "{{ title }}",
    "description": "{{ description }}",
    "content": "{{ content_text }}"
  }{%- unless forloop.last -%},{%- endunless -%}
{%- endfor -%}
]
